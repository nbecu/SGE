<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SGE Architecture Diagrams</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            color: #333;
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
        }
        .diagram-section {
            margin: 40px 0;
            padding: 20px;
            border: 1px solid #e1e5e9;
            border-radius: 8px;
            background: #f8f9fa;
        }
        .diagram-title {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .mermaid {
            text-align: center;
            background: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .navigation {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 30px;
        }
        .nav-link {
            display: inline-block;
            margin: 5px 10px;
            padding: 8px 15px;
            background: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            font-size: 14px;
        }
        .nav-link:hover {
            background: #0056b3;
        }
        .description {
            background: #e8f4f8;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            border-left: 4px solid #17a2b8;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üèóÔ∏è SGE Architecture Diagrams</h1>
        <p>Comprehensive architectural documentation for the Simulation Game Editor</p>
    </div>

    <div class="navigation">
        <h3>üìã Quick Navigation</h3>
        <a href="#model-view" class="nav-link">Model-View Architecture</a>
        <a href="#entities" class="nav-link">Entities Detailed</a>
        <a href="#gameactions" class="nav-link">Game Actions</a>
        <a href="#gamespaces" class="nav-link">Game Spaces</a>
        <a href="#workflow" class="nav-link">Academic Workflow</a>
        <a href="#classes" class="nav-link">Classes Overview</a>
    </div>

    <div id="model-view" class="diagram-section">
        <h2 class="diagram-title">üèõÔ∏è Model-View Architecture</h2>
        <div class="description">
            <strong>Core Architecture:</strong> SGE implements a strict Model-View architecture where each entity has both a Model (data/logic) and a View (UI/display) component. This separation enables fluid agent movement, better code organization, and cleaner separation of concerns.
        </div>
        <div class="mermaid">
            classDiagram
                class SGEntity {
                    <<abstract>>
                    +getId()
                    +getCoords()
                    +setValue(attribute, value)
                    +getValue(attribute)
                    +isValue(attribute, value)
                    +isNotValue(attribute, value)
                    +hasAttribute(attribute)
                    +getAttributes()
                    +setAttributes(dict)
                    +id
                    +attributes
                    +entityDef
                    +view
                }

                class SGEntityView {
                    <<abstract>>
                    +show()
                    +update()
                    +repaint()
                    +move(x, y)
                    +setVisible(visible)
                    +paintEvent(event)
                    +mousePressEvent(event)
                    +mouseMoveEvent(event)
                    +mouseReleaseEvent(event)
                    +entity
                    +parent
                    +position
                    +isVisible
                }

                class SGAgent {
                    +moveTo(destinationCell)
                    +moveAgent(method, target, numberOfMovement, condition)
                    +getId()
                    +getCoords()
                    +setValue(attribute, value)
                    +getValue(attribute)
                    +isValue(attribute, value)
                    +isNotValue(attribute, value)
                    +hasAttribute(attribute)
                    +getAttributes()
                    +setAttributes(dict)
                    +id
                    +attributes
                    +entityDef
                    +view
                    +currentCell
                }

                class SGAgentView {
                    +show()
                    +update()
                    +repaint()
                    +move(x, y)
                    +setVisible(visible)
                    +paintEvent(event)
                    +mousePressEvent(event)
                    +mouseMoveEvent(event)
                    +mouseReleaseEvent(event)
                    +entity
                    +parent
                    +position
                    +isVisible
                    +agent
                }

                class SGCell {
                    +getId()
                    +getCoords()
                    +setValue(attribute, value)
                    +getValue(attribute)
                    +isValue(attribute, value)
                    +isNotValue(attribute, value)
                    +hasAttribute(attribute)
                    +getAttributes()
                    +setAttributes(dict)
                    +id
                    +attributes
                    +entityDef
                    +view
                    +agents
                    +xCoord
                    +yCoord
                    +grid
                }

                class SGCellView {
                    +show()
                    +update()
                    +repaint()
                    +move(x, y)
                    +setVisible(visible)
                    +paintEvent(event)
                    +mousePressEvent(event)
                    +mouseMoveEvent(event)
                    +mouseReleaseEvent(event)
                    +entity
                    +parent
                    +position
                    +isVisible
                    +cell
                }

                SGEntity <|-- SGAgent
                SGEntity <|-- SGCell
                SGEntityView <|-- SGAgentView
                SGEntityView <|-- SGCellView
                SGAgent --> SGAgentView : has view
                SGCell --> SGCellView : has view
                SGAgent --> SGCell : moves to
                SGCell --> SGAgent : contains
        </div>
    </div>

    <div id="entities" class="diagram-section">
        <h2 class="diagram-title">üéØ Entities Detailed Architecture</h2>
        <div class="description">
            <strong>Entity System:</strong> Detailed view of how entities (agents and cells) are structured, their relationships, and the factory methods used for creation.
        </div>
        <div class="mermaid">
            graph TD
                A[SGModel] --> B[SGEntityType]
                B --> C[SGCellType]
                B --> D[SGAgentType]
                
                C --> E[newCell]
                C --> F[newCellsOnGrid]
                D --> G[newAgentAtCoords]
                D --> H[newAgentOnCell]
                
                E --> I[SGCell + SGCellView]
                F --> J[SGGrid + Multiple Cells]
                G --> K[SGAgent + SGAgentView]
                H --> K
                
                I --> L[Model-View Pair]
                K --> L
                
                L --> M[show()]
                L --> N[update()]
                L --> O[moveTo()]
        </div>
    </div>

    <div id="gameactions" class="diagram-section">
        <h2 class="diagram-title">üéÆ Game Actions System</h2>
        <div class="description">
            <strong>Action System:</strong> How game actions are structured, created, and executed by players in the SGE framework.
        </div>
        <div class="mermaid">
            classDiagram
                class SGPlayer {
                    +addGameAction(action)
                    +addGameActions(actions)
                    +getGameActions()
                    +newControlPanel(title, defaultAction)
                    +name
                    +gameActions
                    +controlPanels
                }

                class SGAbstractAction {
                    <<abstract>>
                    +execute()
                    +getName()
                    +getDescription()
                    +getEntityDef()
                    +getNumberOfActions()
                    +name
                    +description
                    +entityDef
                    +numberOfActions
                }

                class SGCreateAction {
                    +execute()
                    +createEntities()
                    +dictAttributes
                    +aNumber
                }

                class SGModifyAction {
                    +execute()
                    +modifyEntities()
                    +dictAttributes
                    +aNumber
                }

                class SGDeleteAction {
                    +execute()
                    +deleteEntities()
                    +aNumber
                }

                class SGMoveAction {
                    +execute()
                    +moveEntities()
                    +aNumber
                }

                class SGActivateAction {
                    +execute()
                    +activateMethod()
                    +aMethod
                    +aNumber
                }

                SGPlayer --> SGAbstractAction : has actions
                SGAbstractAction <|-- SGCreateAction
                SGAbstractAction <|-- SGModifyAction
                SGAbstractAction <|-- SGDeleteAction
                SGAbstractAction <|-- SGMoveAction
                SGAbstractAction <|-- SGActivateAction
        </div>
    </div>

    <div id="gamespaces" class="diagram-section">
        <h2 class="diagram-title">üñºÔ∏è Game Spaces Architecture</h2>
        <div class="description">
            <strong>UI Components:</strong> Structure of game spaces (UI components) that provide the visual interface for SGE simulations.
        </div>
        <div class="mermaid">
            classDiagram
                class SGGameSpace {
                    <<abstract>>
                    +show()
                    +update()
                    +repaint()
                    +move(x, y)
                    +setVisible(visible)
                    +paintEvent(event)
                    +mousePressEvent(event)
                    +mouseMoveEvent(event)
                    +mouseReleaseEvent(event)
                    +title
                    +position
                    +size
                    +isVisible
                }

                class SGGrid {
                    +zoomIn()
                    +zoomOut()
                    +setZoomLevel(factor)
                    +resetZoom()
                    +addAgent(agent)
                    +removeAgent(agent)
                    +getCell(x, y)
                    +columns
                    +rows
                    +cellSize
                    +format
                    +cells
                    +agents
                    +zoomLevel
                }

                class SGLegend {
                    +addItem(item)
                    +removeItem(item)
                    +updateItems()
                    +items
                    +alwaysDisplayDefaultAgentSymbology
                }

                class SGDashBoard {
                    +addIndicator(indicator)
                    +removeIndicator(indicator)
                    +updateIndicators()
                    +indicators
                    +title
                }

                class SGControlPanel {
                    +addAction(action)
                    +removeAction(action)
                    +setDefaultAction(action)
                    +actions
                    +defaultAction
                    +title
                }

                SGGameSpace <|-- SGGrid
                SGGameSpace <|-- SGLegend
                SGGameSpace <|-- SGDashBoard
                SGGameSpace <|-- SGControlPanel
        </div>
    </div>

    <div id="workflow" class="diagram-section">
        <h2 class="diagram-title">üîÑ Academic Workflow</h2>
        <div class="description">
            <strong>Research Workflow:</strong> How SGE fits into the academic research process for serious games and simulation development.
        </div>
        <div class="mermaid">
            graph LR
                A[Research Question] --> B[Model Design]
                B --> C[SGE Implementation]
                C --> D[Game Creation]
                D --> E[Testing & Validation]
                E --> F[Data Collection]
                F --> G[Analysis]
                G --> H[Results]
                H --> I[Publication]
                
                C --> J[Agent-Based Modeling]
                C --> K[Grid-Based Simulation]
                C --> L[Multi-Player Support]
                
                D --> M[Serious Games]
                D --> N[Educational Simulations]
                D --> O[Research Tools]
        </div>
    </div>

    <div id="classes" class="diagram-section">
        <h2 class="diagram-title">üìö Classes Overview</h2>
        <div class="description">
            <strong>Class Hierarchy:</strong> High-level overview of the main classes and their relationships in the SGE framework.
        </div>
        <div class="mermaid">
            graph TD
                A[SGModel] --> B[SGEntityType]
                A --> C[SGPlayer]
                A --> D[SGGameSpace]
                A --> E[SGTimeManager]
                
                B --> F[SGCellType]
                B --> G[SGAgentType]
                
                F --> H[SGCell]
                G --> I[SGAgent]
                
                H --> J[SGCellView]
                I --> K[SGAgentView]
                
                D --> L[SGGrid]
                D --> M[SGLegend]
                D --> N[SGDashBoard]
                D --> O[SGControlPanel]
                
                C --> P[SGAbstractAction]
                P --> Q[SGCreateAction]
                P --> R[SGModifyAction]
                P --> S[SGDeleteAction]
                P --> T[SGMoveAction]
                P --> U[SGActivateAction]
        </div>
    </div>

    <div class="header">
        <h3>üìñ Additional Resources</h3>
        <p>
            <a href="https://htmlpreview.github.io/?https://github.com/nbecu/SGE/blob/main_candidate_release_sept_2025/docs/SGE_methods/sge_methods_catalog.html" style="color: white; text-decoration: underline;">SGE Methods Catalog</a> |
            <a href="https://github.com/nbecu/SGE" style="color: white; text-decoration: underline;">GitHub Repository</a>
        </p>
    </div>

    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true
            }
        });
    </script>
</body>
</html>
